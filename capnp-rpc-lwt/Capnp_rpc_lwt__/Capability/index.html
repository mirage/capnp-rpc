<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Capability (capnp-rpc-lwt.Capnp_rpc_lwt__.Capability)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">capnp-rpc-lwt</a> &#x00BB; <a href="../index.html">Capnp_rpc_lwt__</a> &#x00BB; Capability</nav><h1>Module <code>Capnp_rpc_lwt__.Capability</code></h1></header><div class="spec module" id="module-Log"><a href="#module-Log" class="anchor"></a><code><span class="keyword">module</span> Log = <a href="../../../capnp-rpc/Capnp_rpc/Debug/index.html#module-Log">Capnp_rpc.Debug.Log</a></code></div><div class="spec module" id="module-StructStorage"><a href="#module-StructStorage" class="anchor"></a><code><span class="keyword">module</span> StructStorage = Capnp.BytesMessage.StructStorage</code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code><code> = <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a></code></dt><dt class="spec type" id="type-capability_t"><a href="#type-capability_t" class="anchor"></a><code><span class="keyword">type</span> <span>'a capability_t</span></code><code> = <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec type" id="type-method_t"><a href="#type-method_t" class="anchor"></a><code><span class="keyword">type</span> <span>('t, 'a, 'b) method_t</span></code><code> = <span><span>(<span class="type-var">'t</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> Capnp.RPC.MethodID.t</span></code></dt></dl><div class="spec module" id="module-Request"><a href="#module-Request" class="anchor"></a><code><span class="keyword">module</span> Request = <a href="../index.html#module-Request">Capnp_rpc_lwt__.Request</a></code></div><dl><dt class="spec value" id="val-inc_ref"><a href="#val-inc_ref" class="anchor"></a><code><span class="keyword">val</span> inc_ref : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-base_ref/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.base_ref</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-dec_ref"><a href="#val-dec_ref" class="anchor"></a><code><span class="keyword">val</span> dec_ref : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-base_ref/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.base_ref</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-with_ref"><a href="#val-with_ref" class="anchor"></a><code><span class="keyword">val</span> with_ref : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-base_ref/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.base_ref</a> <span class="keyword">as</span> 'a <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> Lwt.t</span></code></dt><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span class="type-var">'a</span> <span>&#45;&gt;</span> &lt; pp : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>; .. &gt; <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-broken"><a href="#val-broken" class="anchor"></a><code><span class="keyword">val</span> broken : <a href="../../../capnp-rpc/Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a> <span>&#45;&gt;</span> <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a></code></dt><dt class="spec value" id="val-when_broken"><a href="#val-when_broken" class="anchor"></a><code><span class="keyword">val</span> when_broken : <span>(<a href="../../../capnp-rpc/Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-when_released"><a href="#val-when_released" class="anchor"></a><code><span class="keyword">val</span> when_released : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-problem"><a href="#val-problem" class="anchor"></a><code><span class="keyword">val</span> problem : &lt; problem : <span class="type-var">'a</span>; .. &gt; <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-wait_until_settled"><a href="#val-wait_until_settled" class="anchor"></a><code><span class="keyword">val</span> wait_until_settled : &lt; blocker : <span><a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-base_ref/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.base_ref</a> option</span>; check_invariants : unit; pp : Stdlib.Format.formatter <span>&#45;&gt;</span> unit; sealed_dispatch : a. <span><span class="type-var">'a</span> <a href="../../../capnp-rpc/Capnp_rpc/S/index.html#type-brand">Capnp_rpc.S.brand</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span>; update_rc : int <span>&#45;&gt;</span> unit; when_more_resolved : <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit; .. &gt; <span class="keyword">as</span> 'b <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : &lt; blocker : <span><span class="type-var">'a</span> option</span>; shortest : &lt; problem : <span><span class="type-var">'c</span> option</span>; .. &gt; <span class="keyword">as</span> 'b; .. &gt; <span>&#45;&gt;</span> &lt; blocker : <span><span class="type-var">'d</span> option</span>; shortest : <span class="type-var">'b</span>; .. &gt; <span>&#45;&gt;</span> <span><span>(bool, <span>[&gt; `Unsettled ]</span>)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-call"><a href="#val-call" class="anchor"></a><code><span class="keyword">val</span> call : <span><span class="type-var">'t</span> <a href="index.html#type-capability_t">capability_t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'t</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-method_t">method_t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Request/index.html#type-t">Request.t</a></span> <span>&#45;&gt;</span> <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-struct_ref/index.html">Capnp_rpc_lwt__Capnp_core.Core_types.struct_ref</a></code></dt><dt class="spec value" id="val-call_and_wait"><a href="#val-call_and_wait" class="anchor"></a><code><span class="keyword">val</span> call_and_wait : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'t</span>, <span class="type-var">'a</span>, <span><span class="type-var">'b</span> <a href="index.html#module-StructStorage">StructStorage</a>.reader_t</span>)</span> <a href="index.html#type-method_t">method_t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Request/index.html#type-t">Request.t</a></span> <span>&#45;&gt;</span> <span><span><span>(<span><span class="type-var">'c</span> <a href="../../Capnp_rpc_lwt__Schema/index.html#type-reader_t">Capnp_rpc_lwt__Schema.reader_t</a></span> * <span>(unit <span>&#45;&gt;</span> unit)</span>, <span>[&gt; <span>`Capnp of <a href="../../../capnp-rpc/Capnp_rpc/Error/index.html#type-t">Capnp_rpc.Error.t</a></span> ]</span>)</span> Stdlib.result</span> Lwt.t</span></code></dt><dt class="spec value" id="val-call_for_value"><a href="#val-call_for_value" class="anchor"></a><code><span class="keyword">val</span> call_for_value : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span><span class="type-var">'c</span> <a href="index.html#module-StructStorage">StructStorage</a>.reader_t</span>)</span> <a href="index.html#type-method_t">method_t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../Request/index.html#type-t">Request.t</a></span> <span>&#45;&gt;</span> <span><span><span>(<span><span class="type-var">'d</span> <a href="../../Capnp_rpc_lwt__Schema/index.html#type-reader_t">Capnp_rpc_lwt__Schema.reader_t</a></span>, <span>[&gt; <span>`Capnp of <a href="../../../capnp-rpc/Capnp_rpc/Error/index.html#type-t">Capnp_rpc.Error.t</a></span> ]</span>)</span> Stdlib.result</span> Lwt.t</span></code></dt><dt class="spec value" id="val-call_for_value_exn"><a href="#val-call_for_value_exn" class="anchor"></a><code><span class="keyword">val</span> call_for_value_exn : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span><span class="type-var">'c</span> <a href="index.html#module-StructStorage">StructStorage</a>.reader_t</span>)</span> <a href="index.html#type-method_t">method_t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../Request/index.html#type-t">Request.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'d</span> <a href="../../Capnp_rpc_lwt__Schema/index.html#type-reader_t">Capnp_rpc_lwt__Schema.reader_t</a></span> Lwt.t</span></code></dt><dt class="spec value" id="val-call_for_unit"><a href="#val-call_for_unit" class="anchor"></a><code><span class="keyword">val</span> call_for_unit : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span><span class="type-var">'c</span> <a href="index.html#module-StructStorage">StructStorage</a>.reader_t</span>)</span> <a href="index.html#type-method_t">method_t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../Request/index.html#type-t">Request.t</a></span> <span>&#45;&gt;</span> <span><span><span>(unit, <span>[&gt; <span>`Capnp of <a href="../../../capnp-rpc/Capnp_rpc/Error/index.html#type-t">Capnp_rpc.Error.t</a></span> ]</span>)</span> Stdlib.result</span> Lwt.t</span></code></dt><dt class="spec value" id="val-call_for_unit_exn"><a href="#val-call_for_unit_exn" class="anchor"></a><code><span class="keyword">val</span> call_for_unit_exn : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span><span class="type-var">'c</span> <a href="index.html#module-StructStorage">StructStorage</a>.reader_t</span>)</span> <a href="index.html#type-method_t">method_t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../Request/index.html#type-t">Request.t</a></span> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-call_for_caps"><a href="#val-call_for_caps" class="anchor"></a><code><span class="keyword">val</span> call_for_caps : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-method_t">method_t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../Request/index.html#type-t">Request.t</a></span> <span>&#45;&gt;</span> <span>(<a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-struct_ref/index.html">Capnp_rpc_lwt__Capnp_core.Core_types.struct_ref</a> <span>&#45;&gt;</span> <span class="type-var">'d</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'d</span></code></dt></dl><dl><dt class="spec type" id="type-resolver"><a href="#type-resolver" class="anchor"></a><code><span class="keyword">type</span> <span>'a resolver</span></code><code> = <a href="../../Capnp_rpc_lwt__Capnp_core/Cap_proxy/class-type-resolver_cap/index.html">Capnp_rpc_lwt__.Capnp_core.Cap_proxy.resolver_cap</a></code></dt></dl><dl><dt class="spec value" id="val-promise"><a href="#val-promise" class="anchor"></a><code><span class="keyword">val</span> promise : unit <span>&#45;&gt;</span> <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> * <span><span class="type-var">'a</span> <a href="index.html#type-resolver">resolver</a></span></code></dt><dt class="spec value" id="val-resolve_ok"><a href="#val-resolve_ok" class="anchor"></a><code><span class="keyword">val</span> resolve_ok : &lt; resolve : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>; .. &gt; <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-resolve_exn"><a href="#val-resolve_exn" class="anchor"></a><code><span class="keyword">val</span> resolve_exn : &lt; resolve : <a href="../../Capnp_rpc_lwt__Capnp_core/Core_types/class-type-cap/index.html">Capnp_rpc_lwt__.Capnp_core.Core_types.cap</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>; .. &gt; <span>&#45;&gt;</span> <a href="../../../capnp-rpc/Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl></div></body></html>