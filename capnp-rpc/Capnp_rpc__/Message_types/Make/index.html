<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (capnp-rpc.Capnp_rpc__.Message_types.Make)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">capnp-rpc</a> &#x00BB; <a href="../../index.html">Capnp_rpc__</a> &#x00BB; <a href="../index.html">Message_types</a> &#x00BB; Make</nav><h1>Module <code>Message_types.Make</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-Core_types/index.html">Core_types</a> : <a href="../../../Capnp_rpc/S/index.html#module-type-CORE_TYPES">Capnp_rpc.S.CORE_TYPES</a></code></li><li><code><a href="argument-2-Network/index.html">Network</a> : <a href="../../../Capnp_rpc/S/index.html#module-type-NETWORK_TYPES">Capnp_rpc.S.NETWORK_TYPES</a></code></li><li><code><a href="argument-3-T/index.html">T</a> : <a href="../index.html#module-type-TABLE_TYPES">TABLE_TYPES</a></code></li></ul><h3 class="heading">Signature</h3><aside><p>This module defines the information in the messages that goes over the wire in one direction. The types are from the point of view of the sender, as in the Cap'n Proto RPC specification.</p></aside><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="index.html#argument-3-T">T</a></code></span></summary><aside><p>For the unit tests it is convenient to pass in the types of table indexes. This allows the tests to make both ends of a connection, with the types matched up.</p></aside><div class="spec module" id="module-QuestionId"><a href="#module-QuestionId" class="anchor"></a><code><span class="keyword">module</span> QuestionId = <a href="argument-3-T/index.html#module-QuestionId">T.QuestionId</a></code></div><div class="spec module" id="module-AnswerId"><a href="#module-AnswerId" class="anchor"></a><code><span class="keyword">module</span> AnswerId = <a href="argument-3-T/index.html#module-AnswerId">T.AnswerId</a></code></div><div class="spec module" id="module-ImportId"><a href="#module-ImportId" class="anchor"></a><code><span class="keyword">module</span> ImportId = <a href="argument-3-T/index.html#module-ImportId">T.ImportId</a></code></div><div class="spec module" id="module-ExportId"><a href="#module-ExportId" class="anchor"></a><code><span class="keyword">module</span> ExportId = <a href="argument-3-T/index.html#module-ExportId">T.ExportId</a></code></div></details></div></div></div><dl><dt class="spec type" id="type-third_party_desc"><a href="#type-third_party_desc" class="anchor"></a><code><span class="keyword">type</span> third_party_desc</code><code> = <a href="argument-2-Network/index.html#type-third_party_cap_id">Network.third_party_cap_id</a> * <a href="index.html#module-ExportId">ExportId</a>.t</code></dt><dt class="spec type" id="type-message_target"><a href="#type-message_target" class="anchor"></a><code><span class="keyword">type</span> message_target</code> = <code>[ </code><table class="variant"><tr id="type-message_target.ReceiverHosted" class="anchored"><td class="def constructor"><a href="#type-message_target.ReceiverHosted" class="anchor"></a><code>| </code><code>`ReceiverHosted <span class="keyword">of</span> <a href="index.html#module-ImportId">ImportId</a>.t</code></td></tr><tr id="type-message_target.ReceiverAnswer" class="anchored"><td class="def constructor"><a href="#type-message_target.ReceiverAnswer" class="anchor"></a><code>| </code><code>`ReceiverAnswer <span class="keyword">of</span> <a href="index.html#module-QuestionId">QuestionId</a>.t * <a href="argument-1-Core_types/Wire/index.html#module-Path">Core_types.Wire.Path</a>.t</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-desc"><a href="#type-desc" class="anchor"></a><code><span class="keyword">type</span> desc</code> = <code>[ </code><table class="variant"><tr id="type-desc.message_target" class="anchored"><td class="def type"><a href="#type-desc.message_target" class="anchor"></a><code>| </code><code><a href="index.html#type-message_target">message_target</a></code></td></tr><tr id="type-desc.None" class="anchored"><td class="def constructor"><a href="#type-desc.None" class="anchor"></a><code>| </code><code>`None</code></td></tr><tr id="type-desc.SenderHosted" class="anchored"><td class="def constructor"><a href="#type-desc.SenderHosted" class="anchor"></a><code>| </code><code>`SenderHosted <span class="keyword">of</span> <a href="index.html#module-ExportId">ExportId</a>.t</code></td></tr><tr id="type-desc.SenderPromise" class="anchored"><td class="def constructor"><a href="#type-desc.SenderPromise" class="anchor"></a><code>| </code><code>`SenderPromise <span class="keyword">of</span> <a href="index.html#module-ExportId">ExportId</a>.t</code></td></tr><tr id="type-desc.ThirdPartyHosted" class="anchored"><td class="def constructor"><a href="#type-desc.ThirdPartyHosted" class="anchor"></a><code>| </code><code>`ThirdPartyHosted <span class="keyword">of</span> <a href="index.html#type-third_party_desc">third_party_desc</a></code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-pp_desc"><a href="#val-pp_desc" class="anchor"></a><code><span class="keyword">val</span> pp_desc : Stdlib.Format.formatter <span>&#45;&gt;</span> <span>[&lt; <span>`Local of &lt; pp : Stdlib.Format.formatter <span>&#45;&gt;</span> unit; .. &gt;</span> <span>| `None</span> <span><span>| `ReceiverAnswer</span> of <a href="index.html#module-QuestionId">QuestionId</a>.t * <a href="argument-1-Core_types/Wire/index.html#module-Path">Core_types.Wire.Path</a>.t</span> <span><span>| `ReceiverHosted</span> of <a href="index.html#module-ImportId">ImportId</a>.t</span> <span><span>| `SenderHosted</span> of <a href="index.html#module-ExportId">ExportId</a>.t</span> <span><span>| `SenderPromise</span> of <a href="index.html#module-ExportId">ExportId</a>.t</span> <span><span>| `ThirdPartyHosted</span> of <span class="type-var">'a</span></span> ]</span> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-send_results_to"><a href="#type-send_results_to" class="anchor"></a><code><span class="keyword">type</span> send_results_to</code> = <code>[ </code><table class="variant"><tr id="type-send_results_to.Caller" class="anchored"><td class="def constructor"><a href="#type-send_results_to.Caller" class="anchor"></a><code>| </code><code>`Caller</code></td></tr><tr id="type-send_results_to.Yourself" class="anchored"><td class="def constructor"><a href="#type-send_results_to.Yourself" class="anchor"></a><code>| </code><code>`Yourself</code></td></tr><tr id="type-send_results_to.ThirdParty" class="anchored"><td class="def constructor"><a href="#type-send_results_to.ThirdParty" class="anchor"></a><code>| </code><code>`ThirdParty <span class="keyword">of</span> <a href="argument-2-Network/index.html#type-recipient_id">Network.recipient_id</a></code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-return"><a href="#type-return" class="anchor"></a><code><span class="keyword">type</span> return</code> = <code>[ </code><table class="variant"><tr id="type-return.Capnp_rpc.Error.t" class="anchored"><td class="def type"><a href="#type-return.Capnp_rpc.Error.t" class="anchor"></a><code>| </code><code><a href="../../../Capnp_rpc/Error/index.html#type-t">Capnp_rpc.Error.t</a></code></td></tr><tr id="type-return.Results" class="anchored"><td class="def constructor"><a href="#type-return.Results" class="anchor"></a><code>| </code><code>`Results <span class="keyword">of</span> <a href="argument-1-Core_types/Wire/Response/index.html#type-t">Core_types.Wire.Response.t</a> * <span><a href="index.html#type-desc">desc</a> <a href="../../../Capnp_rpc/RO_array/index.html#type-t">Capnp_rpc.RO_array.t</a></span></code></td></tr><tr id="type-return.ResultsSentElsewhere" class="anchored"><td class="def constructor"><a href="#type-return.ResultsSentElsewhere" class="anchor"></a><code>| </code><code>`ResultsSentElsewhere</code></td></tr><tr id="type-return.TakeFromOtherQuestion" class="anchored"><td class="def constructor"><a href="#type-return.TakeFromOtherQuestion" class="anchor"></a><code>| </code><code>`TakeFromOtherQuestion <span class="keyword">of</span> <a href="index.html#module-QuestionId">QuestionId</a>.t</code></td></tr><tr id="type-return.AcceptFromThirdParty" class="anchored"><td class="def constructor"><a href="#type-return.AcceptFromThirdParty" class="anchor"></a><code>| </code><code>`AcceptFromThirdParty</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-disembargo_request"><a href="#type-disembargo_request" class="anchor"></a><code><span class="keyword">type</span> disembargo_request</code> = <code>[ </code><table class="variant"><tr id="type-disembargo_request.Loopback" class="anchored"><td class="def constructor"><a href="#type-disembargo_request.Loopback" class="anchor"></a><code>| </code><code>`Loopback <span class="keyword">of</span> <a href="index.html#type-message_target">message_target</a> * <a href="../EmbargoId/index.html#type-t">EmbargoId.t</a></code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-pp_return"><a href="#val-pp_return" class="anchor"></a><code><span class="keyword">val</span> pp_return : Stdlib.Format.formatter <span>&#45;&gt;</span> <span>[&lt; `AcceptFromThirdParty <span>| `Cancelled</span> <span><span>| `Exception</span> of <a href="../../../Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a></span> <span><span>| `Results</span> of <span class="type-var">'a</span> * <span><span>[&lt; <span>`Local of &lt; pp : Stdlib.Format.formatter <span>&#45;&gt;</span> unit; .. &gt;</span> <span>| `None</span> <span><span>| `ReceiverAnswer</span> of <a href="index.html#module-QuestionId">QuestionId</a>.t * <a href="argument-1-Core_types/Wire/index.html#module-Path">Core_types.Wire.Path</a>.t</span> <span><span>| `ReceiverHosted</span> of <a href="index.html#module-ImportId">ImportId</a>.t</span> <span><span>| `SenderHosted</span> of <a href="index.html#module-ExportId">ExportId</a>.t</span> <span><span>| `SenderPromise</span> of <a href="index.html#module-ExportId">ExportId</a>.t</span> <span><span>| `ThirdPartyHosted</span> of <span class="type-var">'b</span></span> ]</span> <a href="../../../Capnp_rpc/RO_array/index.html#type-t">Capnp_rpc.RO_array.t</a></span></span> <span>| `ResultsSentElsewhere</span> <span><span>| `TakeFromOtherQuestion</span> of <a href="index.html#module-QuestionId">QuestionId</a>.t</span> ]</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_disembargo_request"><a href="#val-pp_disembargo_request" class="anchor"></a><code><span class="keyword">val</span> pp_disembargo_request : <span><a href="index.html#type-disembargo_request">disembargo_request</a> Fmt.t</span></code></dt></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code> = <code>[ </code><table class="variant"><tr id="type-t.Abort" class="anchored"><td class="def constructor"><a href="#type-t.Abort" class="anchor"></a><code>| </code><code>`Abort <span class="keyword">of</span> <a href="../../../Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a></code></td></tr><tr id="type-t.Bootstrap" class="anchored"><td class="def constructor"><a href="#type-t.Bootstrap" class="anchor"></a><code>| </code><code>`Bootstrap <span class="keyword">of</span> <a href="index.html#module-QuestionId">QuestionId</a>.t * string</code></td></tr><tr id="type-t.Call" class="anchored"><td class="def constructor"><a href="#type-t.Call" class="anchor"></a><code>| </code><code>`Call <span class="keyword">of</span> <a href="index.html#module-QuestionId">QuestionId</a>.t * <a href="index.html#type-message_target">message_target</a> * <a href="argument-1-Core_types/Wire/Request/index.html#type-t">Core_types.Wire.Request.t</a> * <span><a href="index.html#type-desc">desc</a> <a href="../../../Capnp_rpc/RO_array/index.html#type-t">Capnp_rpc.RO_array.t</a></span> * <a href="index.html#type-send_results_to">send_results_to</a></code></td></tr><tr id="type-t.Finish" class="anchored"><td class="def constructor"><a href="#type-t.Finish" class="anchor"></a><code>| </code><code>`Finish <span class="keyword">of</span> <a href="index.html#module-QuestionId">QuestionId</a>.t * bool</code></td></tr><tr id="type-t.Release" class="anchored"><td class="def constructor"><a href="#type-t.Release" class="anchor"></a><code>| </code><code>`Release <span class="keyword">of</span> <a href="index.html#module-ImportId">ImportId</a>.t * int</code></td></tr><tr id="type-t.Disembargo_request" class="anchored"><td class="def constructor"><a href="#type-t.Disembargo_request" class="anchor"></a><code>| </code><code>`Disembargo_request <span class="keyword">of</span> <a href="index.html#type-disembargo_request">disembargo_request</a></code></td></tr><tr id="type-t.Disembargo_reply" class="anchored"><td class="def constructor"><a href="#type-t.Disembargo_reply" class="anchor"></a><code>| </code><code>`Disembargo_reply <span class="keyword">of</span> <a href="index.html#type-message_target">message_target</a> * <a href="../EmbargoId/index.html#type-t">EmbargoId.t</a></code></td></tr><tr id="type-t.Return" class="anchored"><td class="def constructor"><a href="#type-t.Return" class="anchor"></a><code>| </code><code>`Return <span class="keyword">of</span> <a href="index.html#module-AnswerId">AnswerId</a>.t * <a href="index.html#type-return">return</a> * bool</code></td></tr><tr id="type-t.Resolve" class="anchored"><td class="def constructor"><a href="#type-t.Resolve" class="anchor"></a><code>| </code><code>`Resolve <span class="keyword">of</span> <a href="index.html#module-ExportId">ExportId</a>.t * <span><span>(<a href="index.html#type-desc">desc</a>, <a href="../../../Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a>)</span> Stdlib.result</span></code></td></tr></table><code> ]</code></dt><dd><p>A message sent over the network.</p></dd></dl><dl><dt class="spec value" id="val-with_qid_tag"><a href="#val-with_qid_tag" class="anchor"></a><code><span class="keyword">val</span> with_qid_tag : Logs.Tag.set <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Logs.Tag.set</code></dt><dt class="spec value" id="val-pp_results_to"><a href="#val-pp_results_to" class="anchor"></a><code><span class="keyword">val</span> pp_results_to : Stdlib.Format.formatter <span>&#45;&gt;</span> <span>[&lt; `Caller <span><span>| `ThirdParty</span> of <span class="type-var">'a</span></span> <span>| `Yourself</span> ]</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_recv"><a href="#val-pp_recv" class="anchor"></a><code><span class="keyword">val</span> pp_recv : <span>(Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="argument-1-Core_types/Wire/Request/index.html#type-t">Core_types.Wire.Request.t</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Fmt.t</span></code></dt><dd><p>Describe message from the point of view of the receiver.</p></dd></dl></div></body></html>