<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (capnp-rpc.Capnp_rpc_proto.Message_types.Make)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.4"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">capnp-rpc</a> &#x00BB; <a href="../../index.html">Capnp_rpc_proto</a> &#x00BB; <a href="../index.html">Message_types</a> &#x00BB; Make</nav><header class="odoc-preamble"><h1>Module <code><span>Message_types.Make</span></code></h1><p>This module defines the information in the messages that goes over the wire in one direction. The types are from the point of view of the sender, as in the Cap'n Proto RPC specification.</p></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter anchored" id="argument-1-Core_types"><a href="#argument-1-Core_types" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-Core_types/index.html">Core_types</a></span><span> : <a href="../../S/module-type-CORE_TYPES/index.html">S.CORE_TYPES</a></span></code></div></div><div class="odoc-spec"><div class="spec parameter anchored" id="argument-2-Network"><a href="#argument-2-Network" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-2-Network/index.html">Network</a></span><span> : <a href="../../S/module-type-NETWORK_TYPES/index.html">S.NETWORK_TYPES</a></span></code></div></div><div class="odoc-spec"><div class="spec parameter anchored" id="argument-3-T"><a href="#argument-3-T" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-3-T/index.html">T</a></span><span> : <a href="../module-type-TABLE_TYPES/index.html">TABLE_TYPES</a></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="argument-3-T/index.html">T</a> <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec module anchored" id="module-QuestionId"><a href="#module-QuestionId" class="anchor"></a><code><span><span class="keyword">module</span> QuestionId</span><span> = <a href="argument-3-T/QuestionId/index.html">T.QuestionId</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-AnswerId"><a href="#module-AnswerId" class="anchor"></a><code><span><span class="keyword">module</span> AnswerId</span><span> = <a href="argument-3-T/AnswerId/index.html">T.AnswerId</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ImportId"><a href="#module-ImportId" class="anchor"></a><code><span><span class="keyword">module</span> ImportId</span><span> = <a href="argument-3-T/ImportId/index.html">T.ImportId</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ExportId"><a href="#module-ExportId" class="anchor"></a><code><span><span class="keyword">module</span> ExportId</span><span> = <a href="argument-3-T/ExportId/index.html">T.ExportId</a></span></code></div></div></details></div><div class="odoc-spec"><div class="spec type anchored" id="type-third_party_desc"><a href="#type-third_party_desc" class="anchor"></a><code><span><span class="keyword">type</span> third_party_desc</span><span> = <a href="argument-2-Network/index.html#type-third_party_cap_id">Network.third_party_cap_id</a> * <a href="argument-3-T/ExportId/index.html#type-t">ExportId.t</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-message_target"><a href="#type-message_target" class="anchor"></a><code><span><span class="keyword">type</span> message_target</span><span> = </span><span>[ </span></code><ol><li id="type-message_target.ReceiverHosted" class="def variant constructor anchored"><a href="#type-message_target.ReceiverHosted" class="anchor"></a><code><span>| </span><span>`ReceiverHosted <span class="keyword">of</span> <a href="argument-3-T/ImportId/index.html#type-t">ImportId.t</a></span></code></li><li id="type-message_target.ReceiverAnswer" class="def variant constructor anchored"><a href="#type-message_target.ReceiverAnswer" class="anchor"></a><code><span>| </span><span>`ReceiverAnswer <span class="keyword">of</span> <a href="argument-3-T/QuestionId/index.html#type-t">QuestionId.t</a> * <a href="argument-1-Core_types/Wire/Path/index.html#type-t">Core_types.Wire.Path.t</a></span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-desc"><a href="#type-desc" class="anchor"></a><code><span><span class="keyword">type</span> desc</span><span> = </span><span>[ </span></code><ol><li id="type-desc.message_target" class="def variant type anchored"><a href="#type-desc.message_target" class="anchor"></a><code><span>| </span><span><a href="#type-message_target">message_target</a></span></code></li><li id="type-desc.None" class="def variant constructor anchored"><a href="#type-desc.None" class="anchor"></a><code><span>| </span><span>`None</span></code></li><li id="type-desc.SenderHosted" class="def variant constructor anchored"><a href="#type-desc.SenderHosted" class="anchor"></a><code><span>| </span><span>`SenderHosted <span class="keyword">of</span> <a href="argument-3-T/ExportId/index.html#type-t">ExportId.t</a></span></code></li><li id="type-desc.SenderPromise" class="def variant constructor anchored"><a href="#type-desc.SenderPromise" class="anchor"></a><code><span>| </span><span>`SenderPromise <span class="keyword">of</span> <a href="argument-3-T/ExportId/index.html#type-t">ExportId.t</a></span></code></li><li id="type-desc.ThirdPartyHosted" class="def variant constructor anchored"><a href="#type-desc.ThirdPartyHosted" class="anchor"></a><code><span>| </span><span>`ThirdPartyHosted <span class="keyword">of</span> <a href="#type-third_party_desc">third_party_desc</a></span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_desc"><a href="#val-pp_desc" class="anchor"></a><code><span><span class="keyword">val</span> pp_desc : 
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&lt; <span>`Local of <span>&lt; pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> unit.. &gt;</span></span>
  <span>| `None</span>
  <span><span>| `ReceiverAnswer</span> of <a href="argument-3-T/QuestionId/index.html#type-t">QuestionId.t</a> * <a href="argument-1-Core_types/Wire/Path/index.html#type-t">Core_types.Wire.Path.t</a></span>
  <span><span>| `ReceiverHosted</span> of <a href="argument-3-T/ImportId/index.html#type-t">ImportId.t</a></span>
  <span><span>| `SenderHosted</span> of <a href="argument-3-T/ExportId/index.html#type-t">ExportId.t</a></span>
  <span><span>| `SenderPromise</span> of <a href="argument-3-T/ExportId/index.html#type-t">ExportId.t</a></span>
  <span><span>| `ThirdPartyHosted</span> of <span class="type-var">'a</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-send_results_to"><a href="#type-send_results_to" class="anchor"></a><code><span><span class="keyword">type</span> send_results_to</span><span> = </span><span>[ </span></code><ol><li id="type-send_results_to.Caller" class="def variant constructor anchored"><a href="#type-send_results_to.Caller" class="anchor"></a><code><span>| </span><span>`Caller</span></code></li><li id="type-send_results_to.Yourself" class="def variant constructor anchored"><a href="#type-send_results_to.Yourself" class="anchor"></a><code><span>| </span><span>`Yourself</span></code></li><li id="type-send_results_to.ThirdParty" class="def variant constructor anchored"><a href="#type-send_results_to.ThirdParty" class="anchor"></a><code><span>| </span><span>`ThirdParty <span class="keyword">of</span> <a href="argument-2-Network/index.html#type-recipient_id">Network.recipient_id</a></span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-return"><a href="#type-return" class="anchor"></a><code><span><span class="keyword">type</span> return</span><span> = </span><span>[ </span></code><ol><li id="type-return.Error.t" class="def variant type anchored"><a href="#type-return.Error.t" class="anchor"></a><code><span>| </span><span><a href="../../Error/index.html#type-t">Error.t</a></span></code></li><li id="type-return.Results" class="def variant constructor anchored"><a href="#type-return.Results" class="anchor"></a><code><span>| </span><span>`Results <span class="keyword">of</span> <a href="argument-1-Core_types/Wire/Response/index.html#type-t">Core_types.Wire.Response.t</a> * <span><a href="#type-desc">desc</a> <a href="../../RO_array/index.html#type-t">RO_array.t</a></span></span></code></li><li id="type-return.ResultsSentElsewhere" class="def variant constructor anchored"><a href="#type-return.ResultsSentElsewhere" class="anchor"></a><code><span>| </span><span>`ResultsSentElsewhere</span></code></li><li id="type-return.TakeFromOtherQuestion" class="def variant constructor anchored"><a href="#type-return.TakeFromOtherQuestion" class="anchor"></a><code><span>| </span><span>`TakeFromOtherQuestion <span class="keyword">of</span> <a href="argument-3-T/QuestionId/index.html#type-t">QuestionId.t</a></span></code></li><li id="type-return.AcceptFromThirdParty" class="def variant constructor anchored"><a href="#type-return.AcceptFromThirdParty" class="anchor"></a><code><span>| </span><span>`AcceptFromThirdParty</span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-disembargo_request"><a href="#type-disembargo_request" class="anchor"></a><code><span><span class="keyword">type</span> disembargo_request</span><span> = </span><span>[ </span></code><ol><li id="type-disembargo_request.Loopback" class="def variant constructor anchored"><a href="#type-disembargo_request.Loopback" class="anchor"></a><code><span>| </span><span>`Loopback <span class="keyword">of</span> <a href="#type-message_target">message_target</a> * <a href="../EmbargoId/index.html#type-t">EmbargoId.t</a></span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_return"><a href="#val-pp_return" class="anchor"></a><code><span><span class="keyword">val</span> pp_return : 
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&lt; `AcceptFromThirdParty
  <span>| `Cancelled</span>
  <span><span>| `Exception</span> of <a href="../../Exception/index.html#type-t">Exception.t</a></span>
  <span><span>| `Results</span> of
    <span class="type-var">'a</span>
    * <span><span>[&lt; <span>`Local of <span>&lt; pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> unit.. &gt;</span></span>
      <span>| `None</span>
      <span><span>| `ReceiverAnswer</span> of <a href="argument-3-T/QuestionId/index.html#type-t">QuestionId.t</a> * <a href="argument-1-Core_types/Wire/Path/index.html#type-t">Core_types.Wire.Path.t</a></span>
      <span><span>| `ReceiverHosted</span> of <a href="argument-3-T/ImportId/index.html#type-t">ImportId.t</a></span>
      <span><span>| `SenderHosted</span> of <a href="argument-3-T/ExportId/index.html#type-t">ExportId.t</a></span>
      <span><span>| `SenderPromise</span> of <a href="argument-3-T/ExportId/index.html#type-t">ExportId.t</a></span>
      <span><span>| `ThirdPartyHosted</span> of <span class="type-var">'b</span></span> ]</span>
        <a href="../../RO_array/index.html#type-t">RO_array.t</a></span></span>
  <span>| `ResultsSentElsewhere</span>
  <span><span>| `TakeFromOtherQuestion</span> of <a href="argument-3-T/QuestionId/index.html#type-t">QuestionId.t</a></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_disembargo_request"><a href="#val-pp_disembargo_request" class="anchor"></a><code><span><span class="keyword">val</span> pp_disembargo_request : <span><a href="#type-disembargo_request">disembargo_request</a> <span class="xref-unresolved">Fmt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>[ </span></code><ol><li id="type-t.Abort" class="def variant constructor anchored"><a href="#type-t.Abort" class="anchor"></a><code><span>| </span><span>`Abort <span class="keyword">of</span> <a href="../../Exception/index.html#type-t">Exception.t</a></span></code></li><li id="type-t.Bootstrap" class="def variant constructor anchored"><a href="#type-t.Bootstrap" class="anchor"></a><code><span>| </span><span>`Bootstrap <span class="keyword">of</span> <a href="argument-3-T/QuestionId/index.html#type-t">QuestionId.t</a> * string</span></code></li><li id="type-t.Call" class="def variant constructor anchored"><a href="#type-t.Call" class="anchor"></a><code><span>| </span><span>`Call <span class="keyword">of</span>
  <a href="argument-3-T/QuestionId/index.html#type-t">QuestionId.t</a>
  * <a href="#type-message_target">message_target</a>
  * <a href="argument-1-Core_types/Wire/Request/index.html#type-t">Core_types.Wire.Request.t</a>
  * <span><a href="#type-desc">desc</a> <a href="../../RO_array/index.html#type-t">RO_array.t</a></span>
  * <a href="#type-send_results_to">send_results_to</a></span></code></li><li id="type-t.Finish" class="def variant constructor anchored"><a href="#type-t.Finish" class="anchor"></a><code><span>| </span><span>`Finish <span class="keyword">of</span> <a href="argument-3-T/QuestionId/index.html#type-t">QuestionId.t</a> * bool</span></code></li><li id="type-t.Release" class="def variant constructor anchored"><a href="#type-t.Release" class="anchor"></a><code><span>| </span><span>`Release <span class="keyword">of</span> <a href="argument-3-T/ImportId/index.html#type-t">ImportId.t</a> * int</span></code></li><li id="type-t.Disembargo_request" class="def variant constructor anchored"><a href="#type-t.Disembargo_request" class="anchor"></a><code><span>| </span><span>`Disembargo_request <span class="keyword">of</span> <a href="#type-disembargo_request">disembargo_request</a></span></code></li><li id="type-t.Disembargo_reply" class="def variant constructor anchored"><a href="#type-t.Disembargo_reply" class="anchor"></a><code><span>| </span><span>`Disembargo_reply <span class="keyword">of</span> <a href="#type-message_target">message_target</a> * <a href="../EmbargoId/index.html#type-t">EmbargoId.t</a></span></code></li><li id="type-t.Return" class="def variant constructor anchored"><a href="#type-t.Return" class="anchor"></a><code><span>| </span><span>`Return <span class="keyword">of</span> <a href="argument-3-T/AnswerId/index.html#type-t">AnswerId.t</a> * <a href="#type-return">return</a> * bool</span></code></li><li id="type-t.Resolve" class="def variant constructor anchored"><a href="#type-t.Resolve" class="anchor"></a><code><span>| </span><span>`Resolve <span class="keyword">of</span> <a href="argument-3-T/ExportId/index.html#type-t">ExportId.t</a> * <span><span>(<a href="#type-desc">desc</a>, <a href="../../Exception/index.html#type-t">Exception.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>A message sent over the network.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_qid_tag"><a href="#val-with_qid_tag" class="anchor"></a><code><span><span class="keyword">val</span> with_qid_tag : <span><span class="xref-unresolved">Logs</span>.Tag.set <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Logs</span>.Tag.set</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_results_to"><a href="#val-pp_results_to" class="anchor"></a><code><span><span class="keyword">val</span> pp_results_to : 
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&lt; `Caller <span><span>| `ThirdParty</span> of <span class="type-var">'a</span></span> <span>| `Yourself</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_recv"><a href="#val-pp_recv" class="anchor"></a><code><span><span class="keyword">val</span> pp_recv : 
  <span><span>(<span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Core_types/Wire/Request/index.html#type-t">Core_types.Wire.Request.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="xref-unresolved">Fmt</span>.t</span></span></code></div><div class="spec-doc"><p>Describe message from the point of view of the receiver.</p></div></div></div></body></html>
